Common = window.ObojoboDraft.Common

TextGroupAdapter = Common.chunk.textChunk.TextGroupAdapter

Adapter =
	construct: (model, attrs) ->
		TextGroupAdapter.construct model, attrs
		model.modelState.textGroup.maxItems = 1

		if attrs?.content?.url
			model.modelState.url = attrs.content.url
		else
			model.modelState.url = null

		if attrs?.content?.size
			model.modelState.size = attrs.content.size
		else
			model.modelState.size = 'small'

	clone: (model, clone) ->
		TextGroupAdapter.clone model, clone
		clone.modelState.url = model.modelState.url
		clone.modelState.size = model.modelState.size

	toJSON: (model, json) ->
		TextGroupAdapter.toJSON model, json
		json.content.url = model.modelState.url
		json.content.size = model.modelState.size


module.exports = Adapter