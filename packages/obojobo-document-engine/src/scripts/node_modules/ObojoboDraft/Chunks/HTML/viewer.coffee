require './viewer.scss'

Common = window.ObojoboDraft.Common
FocusableSelectionHandler = Common.chunk.focusableChunk.FocusableSelectionHandler

selectionHandler = new FocusableSelectionHandler()

HTML = React.createClass
	statics:
		type: 'ObojoboDraft.Chunks.HTML'
		register: -> OBO.registerChunk HTML
		label: 'HTML'
		getSelectionHandler: -> selectionHandler

		createNewNodeData: ->
			html: null

		cloneNodeData: (data) ->
			html: data.html

		createNodeDataFromDescriptor: (descriptor) ->
			html: descriptor.content.html

		getDataDescriptor: (chunk) ->
			html: chunk.modelState.html

	render: ->
		data = @props.chunk.modelState

		`<div className='obojobo-draft--chunks--html pad viewer'>
			<div dangerouslySetInnerHTML={{__html:data.html}} />
		</div>`


module.exports = HTML