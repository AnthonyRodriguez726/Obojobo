require './viewer.scss'

Common = window.ObojoboDraft.Common
FocusableSelectionHandler = Common.chunk.focusableChunk.FocusableSelectionHandler

selectionHandler = new FocusableSelectionHandler()

IFrame = React.createClass
	statics:
		type: 'ObojoboDraft.Chunks.IFrame'
		register: -> OBO.registerChunk IFrame
		label: 'IFrame'
		getSelectionHandler: -> selectionHandler

		createNewNodeData: ->
			src: null #'https://materia.ucf.edu/embed/QXli4/equation-sandbox'

		cloneNodeData: (data) ->
			src: data.src

		createNodeDataFromDescriptor: (descriptor) ->
			src: descriptor.content.src

		getDataDescriptor: (chunk) ->
			src: chunk.modelState.src

	render: ->
		data = @props.chunk.modelState

		`<div className='obojobo-draft--chunks--iframe viewer'>
			<iframe src={data.src} frameBorder="0" allowFullScreen="true" />
		</div>`


module.exports = IFrame