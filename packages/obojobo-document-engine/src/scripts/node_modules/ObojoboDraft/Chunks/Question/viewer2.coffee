ObojoboDraft = window.ObojoboDraft

OBO.register 'ObojoboDraft.Chunks.Question', {
	type: 'chunk',
	adapter: require('./adapter'),
	componentClass: require('./viewer-component'),
	selectionHandler: new ObojoboDraft.Common.chunk.textChunk.TextGroupSelectionHandler()
	getNavItem: (model) ->
		questions = model.parent.children.models.filter (child) -> child.get('type') is 'ObojoboDraft.Chunks.Question'

		if model.title
			label = model.title
		else if model.modelState.practice
			label = 'Practice Question ' + (questions.indexOf(model) + 1)
		else
			label = 'Question ' + (questions.indexOf(model) + 1)

		type: 'sub-link'
		label:  label
		path: ['#obo-' + model.get('id')]
}