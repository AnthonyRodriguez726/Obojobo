Adapter =
	construct: (model, attrs) ->
		if attrs?.content?.choose?
			model.modelState.choose = attrs.content.choose
		else
			model.modelState.choose = Infinity

		if attrs?.content?.select?
			model.modelState.select = attrs.content.select
		else
			model.modelState.select = "random"

		if attrs?.content?.randomReselectAttempted?
			model.modelState.randomReselectAttempted = attrs.content.randomReselectAttempted
		else
			model.modelState.randomReselectAttempted = false

	clone: (model, clone) ->
		clone.modelState.choose = model.modelState.choose
		clone.modelState.select = model.modelState.select
		clone.modelState.randomReselectAttempted = model.modelState.randomReselectAttempted

	toJSON: (model, json) ->
		json.content.choose = model.modelState.choose
		json.content.select = model.modelState.select
		json.content.randomReselectAttempted = model.modelState.randomReselectAttempted


module.exports = Adapter