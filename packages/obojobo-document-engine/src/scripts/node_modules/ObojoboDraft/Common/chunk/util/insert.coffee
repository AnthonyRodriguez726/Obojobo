Chunk = require 'ObojoboDraft/Common/models/obomodel'

module.exports = (componentClass, position, referenceChunk, selection, callback) ->
	newChunk = Chunk.create componentClass

	switch position
		when 'before' then referenceChunk.addChildBefore newChunk
		when 'after' then referenceChunk.addChildAfter newChunk

	newChunk.selectStart()

	callback()