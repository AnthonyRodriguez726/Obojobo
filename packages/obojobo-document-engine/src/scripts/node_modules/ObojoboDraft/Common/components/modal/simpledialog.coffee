require './simpledialog.scss'

ModalUtil = require 'ObojoboDraft/Common/util/modalutil'
Dialog = require 'ObojoboDraft/Common/components/modal/dialog'

module.exports = React.createClass
	getDefaultProps: ->
		ok: false
		noOrYes: false
		yesOrNo: false
		cancelOk: false
		title: null
		width: null
		onCancel: -> ModalUtil.hide()
		onConfirm: -> ModalUtil.hide()

	render: ->
		cancelButton = null
		confirmButton = null
		if @props.ok
			buttons = [
				{
					value: 'OK'
					onClick: @props.onConfirm
					default: true
				}
			]

		else if @props.noOrYes
			buttons = [
				{
					value: 'No'
					onClick: @props.onCancel
				},
				'or',
				{
					value: 'Yes'
					onClick: @props.onConfirm
					default: true
				}
			]

		else if @props.yesOrNo
			buttons = [
				{
					value: 'Yes'
					onClick: @props.onConfirm
				},
				'or',
				{
					value: 'No'
					onClick: @props.onCancel
					default: true
				}
			]

		else if @props.cancelOk
			buttons = [
				{
					value: 'Cancel'
					altAction: true
					onClick: @props.onCancel
				},
				{
					value: 'OK'
					onClick: @props.onConfirm
					default: true
				}
			]

		`<div className="obojobo-draft--components--modal--simple-dialog">
			<Dialog centered buttons={buttons} title={this.props.title} width={this.props.width}>
				{this.props.children}
			</Dialog>
		</div>`