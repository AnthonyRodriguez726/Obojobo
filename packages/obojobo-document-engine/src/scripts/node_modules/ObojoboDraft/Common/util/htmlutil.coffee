sanitize = (node) ->
	if node.nodeType is Node.ELEMENT_NODE
		if node.tagName.toLowerCase() is 'script'
			node = node.parentElement.replaceChild document.createElement('span'), node

		for attr in node.attributes
			switch attr.name
				when 'href', 'cite', 'style'
					true #do nothing
				else
					node.setAttribute attr.name, ''

		for child in node.childNodes
			sanitize child

	node

isElementInline = (el) ->
	switch el.tagName.toLowerCase()
		when 'b', 'big', 'i', 'small', 'tt', 'abbr', 'acronym', 'cite', 'code', 'dfn', 'em', 'kbd', 'strong', 'samp', 'time', 'var', 'a', 'bdo', 'br', 'img', 'map', 'object', 'q', 'script', 'span', 'sub', 'sup', 'button', 'input', 'label', 'select', 'textarea'
			true
		else
			false


module.exports =
	sanitize: sanitize
	isElementInline: isElementInline