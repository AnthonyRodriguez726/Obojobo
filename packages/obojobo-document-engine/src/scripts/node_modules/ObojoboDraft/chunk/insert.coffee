Chunk = require 'ObojoboDraft/models/chunk'

module.exports = (componentClass, position, referenceChunk, selection, callback) ->
	newChunk = Chunk.create componentClass

	switch position
		when 'before' then referenceChunk.addBefore newChunk
		when 'after' then referenceChunk.addAfter newChunk

	newChunk.selectStart selection

	callback()