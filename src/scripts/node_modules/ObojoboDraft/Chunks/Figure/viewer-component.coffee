require './viewer-component.scss'

Image = require './image'

Common = window.ObojoboDraft.Common
OboComponent = Common.components.OboComponent
TextGroupEl = Common.chunk.textChunk.TextGroupEl
NonEditableChunk = Common.chunk.NonEditableChunk

Figure = React.createClass

	render: ->
		data = @props.model.modelState

		`<OboComponent model={this.props.model} moduleData={this.props.moduleData}>
			<NonEditableChunk className={'obojobo-draft--chunks--figure viewer ' + data.size} ref="component">
				<div className="container">
					<figure unselectable="on">
						<Image chunk={this.props.model} />
						{
							data.textGroup.first.text.length > 0
							?
							<figcaption ref="caption">
								<TextGroupEl parentModel={this.props.model} textItem={data.textGroup.first} groupIndex="0" />
							</figcaption>
							:
							null
						}
					</figure>
				</div>
			</NonEditableChunk>
		</OboComponent>`


module.exports = Figure