Common = window.ObojoboDraft.Common

TextGroupAdapter = Common.chunk.textChunk.TextGroupAdapter

Adapter =
	construct: (model, attrs) ->
		TextGroupAdapter.construct model, attrs
		model.modelState.textGroup.maxItems = 1

		if attrs?.content?.headingLevel
			model.modelState.headingLevel = attrs.content.headingLevel
		else
			model.modelState.headingLevel = 1

		if attrs?.content?.align
			model.modelState.align = attrs.content.align
		else
			model.modelState.align = 'left'

	clone: (model, clone) ->
		TextGroupAdapter.clone model, clone
		clone.modelState.headingLevel = model.modelState.headingLevel
		clone.modelState.align = model.modelState.align

	toJSON: (model, json) ->
		TextGroupAdapter.toJSON model, json
		json.content.headingLevel = model.modelState.headingLevel
		json.content.align = model.modelState.align

	toText: (model) ->
		TextGroupAdapter.toText model


module.exports = Adapter