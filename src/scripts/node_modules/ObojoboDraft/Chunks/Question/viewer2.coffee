ObojoboDraft = window.ObojoboDraft

OBO.register 'ObojoboDraft.Chunks.Question', {
	type: 'chunk',
	adapter: require('./adapter'),
	componentClass: require('./viewer-component'),
	selectionHandler: new ObojoboDraft.Common.chunk.textChunk.TextGroupSelectionHandler()
	getNavItem: (model) ->
		questions = model.parent.children.models.filter (child) -> child.get('type') is 'ObojoboDraft.Chunks.Question'
		if model.modelState.practice
			label = 'Practice Question'
		else
			label = 'Question'

		type: 'sub-link'
		label:  label + ' ' + (questions.indexOf(model) + 1) #'[Q] + model.children.at(0).modelState.textGroup.first.text.value'
		path: ['#obo-' + model.get('id')]
}