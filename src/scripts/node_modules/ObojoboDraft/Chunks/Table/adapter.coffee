GridTextGroup = require './gridtextgroup'

Adapter =
	construct: (model, attrs) ->
		if attrs?.content?.textGroup?
			model.modelState.textGroup = GridTextGroup.fromDescriptor attrs.content.textGroup, Infinity, { indent:0 }
		else
			model.modelState.textGroup = GridTextGroup.create(3, 2)

		if attrs?.content?.header?
			model.modelState.header = attrs.content.header
		else
			model.modelState.header = true

	clone: (model, clone) ->
		clone.modelState.textGroup = model.modelState.textGroup.clone()
		clone.modelState.header = model.modelState.header

	toJSON: (model, json) ->
		json.content.textGroup = model.modelState.textGroup.toDescriptor()
		json.content.header = model.modelState.header


module.exports = Adapter