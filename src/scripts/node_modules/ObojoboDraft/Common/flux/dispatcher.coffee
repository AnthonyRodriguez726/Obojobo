# Dispatcher = require('flux').Dispatcher
# module.exports = new Dispatcher()

Dispatcher = {}
_.extend Dispatcher, Backbone.Events

Dispatcher.register = (callback) ->
	Dispatcher.on 'all', (type, payload) -> callback payload

Dispatcher.dispatch = (payload) ->
	console.log 'DISPATCH', payload.type, payload.value
	Dispatcher.trigger null, payload


module.exports = Dispatcher