Store = require 'ObojoboDraft/Common/flux/store'
Dispatcher = require 'ObojoboDraft/Common/flux/dispatcher'


class ModalStore extends Store
	constructor: ->
		super('modalstore')

		@state = {
			modal: null
		}

		Dispatcher.on 'modal:show', (payload) =>
			@state.modal = payload.value.component
			@triggerChange()

		Dispatcher.on 'modal:hide', =>
			@state.modal = null
			@triggerChange()

	getState: -> @state

	setState: (newState) -> @state = newState


modalStore = new ModalStore()
module.exports = modalStore
