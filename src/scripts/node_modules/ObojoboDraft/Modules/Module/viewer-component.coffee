require './viewer-component.scss'

NavStore = window.Viewer.stores.NavStore
Common = window.ObojoboDraft.Common
OboComponent = Common.components.OboComponent
OboModel = Common.models.OboModel
Dispatcher = Common.flux.Dispatcher
NavUtil = window.Viewer.util.NavUtil

module.exports = React.createClass

	render: ->
		childEl = null
		navTargetModel = NavUtil.getNavTargetModel @props.moduleData.navState

		if navTargetModel
			child = @props.model.getChildContainingModel navTargetModel
			ChildComponent = child.getComponentClass()
			childEl = `<ChildComponent model={child} moduleData={this.props.moduleData} />`



		`<OboComponent
			model={this.props.model}
			className="obojobo-draft--modules--module"
		>
			<div>
				{childEl}
			</div>
		</OboComponent>`