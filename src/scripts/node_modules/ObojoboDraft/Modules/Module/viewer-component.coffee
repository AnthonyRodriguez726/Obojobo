require './viewer-component.scss'

Common = window.ObojoboDraft.Common

OboComponent = Common.components.OboComponent

module.exports = React.createClass
	getInitialState: ->
		sectionIndex: 0

	onPrevClick: ->
		@setState { sectionIndex:@state.sectionIndex - 1 }

	onNextClick: ->
		@setState { sectionIndex:@state.sectionIndex + 1 }

	render: ->
		child = @props.model.children.at(@state.sectionIndex)
		ChildComponent = child.getComponentClass()

		`<OboComponent
			model={this.props.model}
			className="obojobo-draft--modules--module"
		>
			<div>
				<ChildComponent model={child} />
			</div>

			<button onClick={this.onPrevClick}>Prev</button>
			<button onClick={this.onNextClick}>Next</button>
		</OboComponent>`