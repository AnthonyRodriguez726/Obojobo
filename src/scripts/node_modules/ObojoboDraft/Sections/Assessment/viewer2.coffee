ObojoboDraft = window.ObojoboDraft

AssessmentStore = window.Viewer.stores.AssessmentStore

OBO.register 'ObojoboDraft.Sections.Assessment', {
	type: 'section',
	adapter: require('./adapter'),
	componentClass: require('./viewer-component'),
	selectionHandler: null,
	generateNav: (model) ->
		[
			{
				type: 'link',
				label: model.title ||= 'Assessment',
				value: model
			},
			{
				type: 'seperator'
			}
		]
}

OBO.triggerActions["ObojoboDraft.Sections.Assessment.Triggers.AttemptSubmit"] = (model, action) ->
	assessment = AssessmentStore.getState().assessments[model.get('id')]
	console.log 'assessment be all like', assessment.attempts[assessment.attempts.length - 1]