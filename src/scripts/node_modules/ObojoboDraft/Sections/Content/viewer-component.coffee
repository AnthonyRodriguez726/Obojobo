require './viewer-component.scss'

Common = window.ObojoboDraft.Common
OboComponent = Common.components.OboComponent


module.exports = React.createClass
	# getInitialState: ->
	# 	NavStore.getState()

	# componentDidMount: ->
	# 	NavStore.addChangeListener @onChange

	# componentWillUnmount: ->
	# 	NavStore.removeChangeListener @onChange

	# onChange: ->
	# 	@setState NavStore.getState()



	render: ->
		console.log 'Content RENDER', @state
		childEl = null
		if @props.navState.navTarget?.value?
			child = @props.model.getChildContainingModel @props.navState.navTarget.value
			ChildComponent = child.getComponentClass()
			childEl = `<ChildComponent model={child} navState={this.props.navState} scoreState={this.props.scoreState} assessmentState={this.props.assessmentState} />`



		`<OboComponent
			model={this.props.model}
			className="obojobo-draft--sections--content"
		>
			<div>
				{childEl}
			</div>

		</OboComponent>`