Chunk = require 'ObojoboDraft/models/chunk'

module.exports = (componentClass, position, referenceChunk, selection, callback) ->
	newChunk = Chunk.create componentClass

	switch position
		when 'before' then referenceChunk.addChunkBefore newChunk
		when 'after' then referenceChunk.addChunkAfter newChunk

	newChunk.selectStart()

	callback()