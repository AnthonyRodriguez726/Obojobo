Dispatcher = window.ObojoboDraft.Common.flux.Dispatcher
OboModel = window.ObojoboDraft.Common.models.OboModel

QuestionUtil =
	setResponse: (id, response) ->
		Dispatcher.trigger 'question:setResponse',
			value:
				id: id,
				response: response

	resetResponse: (id) ->
		Dispatcher.trigger 'question:resetResponse',
			value:
				id: id

	viewQuestion: (id) ->
		Dispatcher.trigger 'question:view',
			value:
				id: id

	hideQuestion: (id) ->
		Dispatcher.trigger 'question:hide',
			value:
				id: id

	getViewState: (state, model) ->
		modelId = model.get('id')

		if state.viewing is modelId then return 'active'
		if state.viewedQuestions[modelId] then return 'viewed'
		'hidden'

	getResponse: (state, model) ->
		response = state.responses[model.get('id')]


module.exports = QuestionUtil