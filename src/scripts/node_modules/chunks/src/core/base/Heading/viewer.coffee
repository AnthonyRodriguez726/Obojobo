ObojoboDraft = window.ObojoboDraft
TextGroup = ObojoboDraft.textGroup.TextGroup
TextGroupEl = ObojoboDraft.chunk.textChunk.TextGroupEl
TextChunk = ObojoboDraft.chunk.TextChunk
SelectionHandler = ObojoboDraft.chunk.textChunk.TextGroupSelectionHandler

selectionHandler = new SelectionHandler()

Heading = React.createClass
	statics:
		type: 'ObojoboDraft.Chunks.Heading'
		register: -> OBO.registerChunk Heading
		getSelectionHandler: -> selectionHandler

		createNodeDataFromDescriptor: (descriptor) ->
			textGroup: TextGroup.fromDescriptor descriptor.content.textGroup, 1, { indent:0 }
			headingLevel: descriptor.content.headingLevel

	render: ->
		data = @props.chunk.componentContent

		inner = React.createElement('h' + data.headingLevel, null,
			`<TextGroupEl text={data.textGroup.first.text} indent={data.textGroup.first.data.indent} groupIndex="0" />`
		)

		`<TextChunk className='obojobo-draft--chunks--heading pad'>
			{inner}
		</TextChunk>`



module.exports = Heading