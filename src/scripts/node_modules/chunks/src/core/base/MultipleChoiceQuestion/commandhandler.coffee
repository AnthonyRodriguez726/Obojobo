TextGroupCommandHandler = Editor.command.TextGroupCommandHandler

ObojoboDraft = window.ObojoboDraft
TextGroupSelection = ObojoboDraft.text.TextGroupSelection

module.exports = class CommandHandler extends TextGroupCommandHandler
	selectAll: (selection, chunk) ->
		sel = new TextGroupSelection chunk, selection

		if sel.start.groupIndex is sel.end.groupIndex
			selection.setFutureStart chunk, { offset: 0, groupIndex: sel.start.groupIndex }
			selection.setFutureEnd chunk, { offset: chunk.componentContent.textGroup.get(sel.start.groupIndex).text.length, groupIndex: sel.start.groupIndex }

			return true

		false

	split: (selection, chunk) -> false
	splitText: (selection, chunk, shiftKey) -> false

	deleteText: (selection, chunk, deleteForwards) ->
		sel = new TextGroupSelection chunk, selection

		if not deleteForwards and sel.start.isTextStart then return false
		if deleteForwards and sel.start.isTextEnd then return false

		super selection, chunk, deleteForwards

	paste: (selection, chunk, text, html) ->
		@insertText selection, chunk, text

	canMergeWith: (selection, digestedChunk, consumerChunk) -> false
	canRemoveSibling: (selection, sibling) -> false
	acceptAbsorb: (selection, chunkToBeDigested, consumerChunk) -> false
	absorb: (selection, consumerChunk, digestedChunk) -> false