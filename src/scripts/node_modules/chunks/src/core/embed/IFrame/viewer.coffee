require './viewer.scss'

ObojoboDraft = window.ObojoboDraft
FocusableSelectionHandler = ObojoboDraft.chunk.focusableChunk.FocusableSelectionHandler

selectionHandler = new FocusableSelectionHandler()

IFrame = React.createClass
	statics:
		type: 'ObojoboDraft.Chunks.IFrame'
		register: -> OBO.registerChunk IFrame
		label: 'IFrame'
		getSelectionHandler: -> selectionHandler

		createNewNodeData: ->
			src: 'http://www.zachberry.com'

		cloneNodeData: (data) ->
			src: data.src

		createNodeDataFromDescriptor: (descriptor) ->
			src: descriptor.content.src

		getDataDescriptor: (chunk) ->
			src: chunk.componentContent.src

	render: ->
		data = @props.chunk.componentContent

		`<div className='obojobo-draft--chunks--iframe pad viewer'>
			<iframe src={data.src} frameBorder="0" allowFullScreen="true" />
			<div className="description">
				<a target="_blank" href={data.src}>{data.src}</a>
			</div>
		</div>`


module.exports = IFrame