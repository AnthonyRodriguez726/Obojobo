require './toolbar.scss'

toolbarClasses =
	separator: require './toolbar/separator'
	button: require './toolbar/button'
	toggle: require './toolbar/toggle'
	listButton: require './toolbar/listbutton'
	gridButton: require './toolbar/gridbutton'
	select: require './toolbar/select'


Toolbar = React.createClass
	getInitialState: ->
		selection: @props.selection
		commands: @props.commands

	componentWillReceiveProps: (nextProps) ->
		@setState {
			selection: nextProps.selection
			commands: nextProps.commands
		}

	render: ->
		commandHandler = @props.commandHandler

		React.createElement 'div', { className:'editor--components--toolbar' },
			React.createElement 'div', { className:'wrapper' },
				@state.commands.map (command, index) ->
					React.createElement toolbarClasses[command.type], { command:command, commandHandler:commandHandler, key:index }


module.exports = Toolbar